<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../../bootstrap/css/bootstrap.min.css" rel="stylesheet"/><link href="../../../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/><link href="../../../bootstrap/css/bootstrap-select.min.css" rel="stylesheet"/><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" rel="stylesheet" type="text/css"/><link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600,600italic,400" rel="stylesheet" type="text/css"/><link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css" rel="stylesheet" type="text/css"/><script src="../../../jquery-1.9.1.min.js"></script><script src="../../../bootstrap/js/bootstrap.min.js"></script><script src="../../../bootstrap/js/bootstrap-select.min.js"></script><link href="../../../styles.css" rel="stylesheet"/><link href="../../../haxe-nav.css" rel="stylesheet"/><script type="text/javascript">var dox = {rootPath: "../../../",platforms: ["js"]};</script><script type="text/javascript" src="../../..//nav.js"></script><script type="text/javascript" src="../../..//index.js"></script><link rel="icon" href="../../..//favicon.ico" type="image/x-icon"></link><title>js.node.dgram.Socket</title><meta name="description" content="Encapsulates the datagram functionality.
It should be created via &lt;code&gt;&lt;a href="../../../js/node/Dgram.html#createSocket"&gt;Dgram.createSocket&lt;/a&gt;&lt;/code&gt;."/></head><body><nav class="section nav dark"><div class="navbar navbar-fixed-top navbar-inverse"><div class="navbar-inner"><button class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse" type="button"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="brand haxe-logo" href="http://haxe.org/"><img alt="Haxe" height="21" onerror="this.src='http://haxe.org/img/haxe-logo-horizontal-on-dark.png'" src="http://haxe.org/img/haxe-logo-horizontal-on-dark.svg" width="107"/></a><a class="brand sub lib" href="/">API</a><div class="nav-collapse collapse"><ul class="nav"><!-- required submenu  on every subsite, put class="active" on   -->
<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="/documentation/">Learn Haxe <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://haxe.org/documentation/">Introduction</a></li><li class="divider"></li><li><a href="http://haxe.org/manual/">Manual</a></li><li class="active"><a href="http://api.haxe.org">API Documentation</a></li><li class="divider"></li><li><a href="http://try.haxe.org">Try Haxe</a></li><li><a href="http://lib.haxe.org">Haxelib</a></li><li><a href="http://code.haxe.org">Code Cookbook</a></li></ul></li><li class=" dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Connect <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://github.com/HaxeFoundation"><i class="fa fa-github"></i> Github</a></li><li><a href="https://github.com/HaxeFoundation/haxe/issues"><i class="fa fa-github"></i> Bug reports</a></li><li><a href="http://stackoverflow.com/questions/tagged/haxe"><i class="fa fa-stack-exchange"></i> Stack Overflow</a></li><li><a href="http://groups.google.com/group/haxelang?hl=en"><i class="fa fa-envelope-o"></i> Google Groups</a></li><li><a href="http://webchat.freenode.net/?channels=haxe"><i class="fa fa-comments-o"></i> IRC</a></li><li><a href="http://haxe.org/blog"><i class="fa fa-rss"></i> Blog</a></li><li class="divider"></li><li><a href="https://plus.google.com/communities/103302587329918132234"><i class="fa fa-google-plus"></i> Google+</a></li><li><a href="https://www.facebook.com/haxe.org/"><i class="fa fa-facebook"></i> Facebook</a></li><li><a href="https://twitter.com/search?q=%23haxe"><i class="fa fa-twitter"></i> #haxe</a></li><li><a href="https://twitter.com/haxelang"><i class="fa fa-twitter"></i> @haxelang</a></li><li><a href="https://twitter.com/haxe_org"><i class="fa fa-twitter"></i> @haxe_org</a></li><li class="divider"></li><li><a href="http://haxe.org/foundation/contact.html">Contact</a></li></ul></li></ul></div></div></div></nav><div class="container main-content"><div class="row-fluid"><div class="span3"><div class="well sidebar-nav"><form class="form-search" id="searchForm"><div class="input-prepend input-block-level"><span class="add-on"><i class="icon-search"></i></span><input id="search" type="text" placeholder="Search" autocomplete="off"/></div></form></div><div class="well sidebar-nav"><div id="nav"></div></div></div><div class="span9"><div class="page-header"><span class="viewsource"><a href="https://github.com/HaxeFoundation/hxnodejs/blob/master/src/js/node/dgram/Socket.hx" class="btn btn-medium"><i class="fa fa-eye"></i> View source</a></span><h1><small>class</small> Socket</h1><h4><small>package <a href="../../../js/node/dgram/index.html">js.node.dgram</a></small></h4><h4><small>extends <a class="type" title="All objects which emit events are instances of EventEmitter." href="../../../js/node/events/EventEmitter.html">EventEmitter</a></small></h4>    </div><div class="body"><div class="doc doc-main"><div class="indent"><p>Encapsulates the datagram functionality.
It should be created via <code><a href="../../../js/node/Dgram.html#createSocket">Dgram.createSocket</a></code>.</p></div></div><h3 class="section">Methods</h3><div class="fields"><div class="field "><a name="addMembership"></a><h3><p><code><a href="#addMembership"><span class="identifier">addMembership</span></a> (<span style="white-space:nowrap">multicastAddress:<a class="type" title="The basic String class." href="../../../String.html">String</a>,</span> <span style="white-space:nowrap">?multicastInterface:<a class="type" title="The basic String class." href="../../../String.html">String</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Tells the kernel to join a multicast group with IP_ADD_MEMBERSHIP socket option.</p>
<p>If <code>multicastInterface</code> is not specified, the OS will try to add membership to all valid interfaces.</p></div></div><div class="field "><a name="address"></a><h3><p><code><a href="#address"><span class="identifier">address</span></a> ():<a class="type" title="Bound address, the address family name and port of the socket as reported by the operating system." href="../../../js/node/net/SocketAdress.html">SocketAdress</a></code></p></h3><div class="doc"><p>Returns an object containing the address information for a socket.</p></div></div><div class="field "><a name="bind"></a><h3><p><code><a href="#bind"><span class="identifier">bind</span></a> (<span style="white-space:nowrap">?callback:<a class="type" title="The standard Void type." href="../../../Void.html">Void</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p><p><code><a href="#bind"><span class="identifier">bind</span></a> (<span style="white-space:nowrap">options:<a class="type" title="Options for Socket." href="../../../js/node/dgram/SocketBindOptions.html">SocketBindOptions</a>,</span> <span style="white-space:nowrap">?callback:<a class="type" title="The standard Void type." href="../../../Void.html">Void</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p><p><code><a href="#bind"><span class="identifier">bind</span></a> (<span style="white-space:nowrap">port:<a class="type" title="The standard Int type." href="../../../Int.html">Int</a>,</span> <span style="white-space:nowrap">address:<a class="type" title="The basic String class." href="../../../String.html">String</a>,</span> <span style="white-space:nowrap">?callback:<a class="type" title="The standard Void type." href="../../../Void.html">Void</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p><p><code><a href="#bind"><span class="identifier">bind</span></a> (<span style="white-space:nowrap">port:<a class="type" title="The standard Int type." href="../../../Int.html">Int</a>,</span> <span style="white-space:nowrap">?callback:<a class="type" title="The standard Void type." href="../../../Void.html">Void</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Listen for datagrams on a named <code>port</code> and optional <code>address</code>.
If <code>port</code> is not specified, the OS will try to bind to a random port.
If <code>address</code> is not specified, the OS will try to listen on all addresses.
After binding is done, a "listening" event is emitted and the <code>callback</code> (if specified) is called.
Specifying both a "listening" event listener and <code>callback</code> is not harmful but not very useful.</p>
<p>A bound datagram socket keeps the node process running to receive datagrams.</p>
<p>If binding fails, an "error" event is generated. In rare case (e.g. binding a closed socket),
an <code><a href="../../../js/Error.html">Error</a></code> may be thrown by this method.</p></div></div><div class="field "><a name="close"></a><h3><p><code><a href="#close"><span class="identifier">close</span></a> (<span style="white-space:nowrap">?callback:<a class="type" title="The standard Void type." href="../../../Void.html">Void</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Close the underlying socket and stop listening for data on it.</p>
<p>If a <code>callback</code> is provided, it is added as a listener for the 'close' event.</p></div></div><div class="field "><a name="dropMembership"></a><h3><p><code><a href="#dropMembership"><span class="identifier">dropMembership</span></a> (<span style="white-space:nowrap">multicastAddress:<a class="type" title="The basic String class." href="../../../String.html">String</a>,</span> <span style="white-space:nowrap">?multicastInterface:<a class="type" title="The basic String class." href="../../../String.html">String</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Opposite of <code>addMembership</code> - tells the kernel to leave a multicast group with IP_DROP_MEMBERSHIP socket option.
This is automatically called by the kernel when the socket is closed or process terminates,
so most apps will never need to call this.</p>
<p>If <code>multicastInterface</code> is not specified, the OS will try to drop membership to all valid interfaces.</p></div></div><div class="field "><a name="ref"></a><h3><p><code><a href="#ref"><span class="identifier">ref</span></a> ():<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Opposite of <code>unref</code>, calling <code>ref</code> on a previously <code>unref</code>d socket will not let
the program exit if it's the only socket left (the default behavior).
If the socket is <code>ref</code>d calling <code>ref</code> again will have no effect.</p></div></div><div class="field "><a name="send"></a><h3><p><code><a href="#send"><span class="identifier">send</span></a> (<span style="white-space:nowrap">buf:<a class="type" title="" href="../../../js/node/Buffer.html">Buffer</a>,</span> <span style="white-space:nowrap">offset:<a class="type" title="The standard Int type." href="../../../Int.html">Int</a>,</span> <span style="white-space:nowrap">length:<a class="type" title="The standard Int type." href="../../../Int.html">Int</a>,</span> <span style="white-space:nowrap">port:<a class="type" title="The standard Int type." href="../../../Int.html">Int</a>,</span> <span style="white-space:nowrap">address:<a class="type" title="The basic String class." href="../../../String.html">String</a>,</span> <span style="white-space:nowrap">?callback:<a class="type" title="" href="../../../js/Error.html">Error</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Int type." href="../../../Int.html">Int</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>The destination <code>port</code> and <code>address</code> must be specified.
A string may be supplied for the <code>address</code> parameter, and it will be resolved with DNS.</p>
<p>If the <code>address</code> is omitted or is an empty string, '0.0.0.0' or '::0' is used instead.
Depending on the network configuration, those defaults may or may not work; it's best to be
explicit about the destination address.</p>
<p>If the socket has not been previously bound with a call to <code>bind</code>, it gets assigned a random
port number and is bound to the "all interfaces" address ('0.0.0.0' for udp4 sockets, '::0' for udp6 sockets.)</p>
<p>An optional <code>callback</code> may be specified to detect DNS errors or for determining when it's safe
to reuse the buf object. Note that DNS lookups delay the time to send for at least one tick.
The only way to know for sure that the datagram has been sent is by using a <code>callback</code>.</p></div></div><div class="field "><a name="setBroadcast"></a><h3><p><code><a href="#setBroadcast"><span class="identifier">setBroadcast</span></a> (<span style="white-space:nowrap">flag:<a class="type" title="The standard Boolean type, which can either be true or false." href="../../../Bool.html">Bool</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Sets or clears the SO_BROADCAST socket option.
When this option is set, UDP packets may be sent to a local interface's broadcast address.</p></div></div><div class="field "><a name="setMulticastLoopback"></a><h3><p><code><a href="#setMulticastLoopback"><span class="identifier">setMulticastLoopback</span></a> (<span style="white-space:nowrap">flag:<a class="type" title="The standard Boolean type, which can either be true or false." href="../../../Bool.html">Bool</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Sets or clears the IP_MULTICAST_LOOP socket option.
When this option is set, multicast packets will also be received on the local interface.</p></div></div><div class="field "><a name="setMulticastTTL"></a><h3><p><code><a href="#setMulticastTTL"><span class="identifier">setMulticastTTL</span></a> (<span style="white-space:nowrap">ttl:<a class="type" title="The standard Int type." href="../../../Int.html">Int</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Sets the IP_MULTICAST_TTL socket option. TTL stands for "Time to Live," but in this context it specifies
the number of IP hops that a packet is allowed to go through, specifically for multicast traffic.
Each router or gateway that forwards a packet decrements the TTL. If the TTL is decremented to 0 by a router,
it will not be forwarded.</p>
<p>The argument to <code>setMulticastTTL</code> is a number of hops between 0 and 255. The default on most systems is 1.</p></div></div><div class="field "><a name="setTTL"></a><h3><p><code><a href="#setTTL"><span class="identifier">setTTL</span></a> (<span style="white-space:nowrap">ttl:<a class="type" title="The standard Int type." href="../../../Int.html">Int</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Sets the IP_TTL socket option. TTL stands for "Time to Live," but in this context it specifies
the number of IP hops that a packet is allowed to go through. Each router or gateway that forwards
a packet decrements the TTL. If the TTL is decremented to 0 by a router, it will not be forwarded.
Changing TTL values is typically done for network probes or when multicasting.</p>
<p>The argument to <code>setTTL</code> is a number of hops between 1 and 255. The default on most systems is 64.</p></div></div><div class="field "><a name="unref"></a><h3><p><code><a href="#unref"><span class="identifier">unref</span></a> ():<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Calling <code>unref</code> on a socket will allow the program to exit if this is the only active socket in the event system.
If the socket is already <code>unref</code>d calling <code>unref</code> again will have no effect.</p></div></div></div>  <div class="inherited-fields well"><h3 class="section">Inherited Variables</h3><div class="fields"><div style="display:none"></div></div><h3 class="section">Inherited Methods</h3><div class="fields"><h4><a href="#" class="expand-button"><i class="fa fa-arrow-circle-o-right"></i></a> Defined by <a class="type" title="All objects which emit events are instances of EventEmitter." href="../../../js/node/events/EventEmitter.html">EventEmitter</a></h4><div style="display:none"><div class="field "><a name="addListener"></a><h3><p><code><a href="#addListener"><span class="identifier">addListener</span></a>&lt;<span class="type">T</span>&gt; (<span style="white-space:nowrap">event:<a class="type" title="Abstract type for events." href="../../../js/node/events/Event.html">Event</a>&lt;<span class="type">T</span>&gt;,</span> <span style="white-space:nowrap">listener:<span class="type">T</span></span>):<span class="type">TSelf</span></code></p></h3><div class="doc"><p>Adds a <code>listener</code> to the end of the listeners array for the specified <code>event</code>.</p></div></div><div class="field "><a name="emit"></a><h3><p><code><a href="#emit"><span class="identifier">emit</span></a>&lt;<span class="type">T</span>&gt; (<span style="white-space:nowrap">event:<a class="type" title="Abstract type for events." href="../../../js/node/events/Event.html">Event</a>&lt;<span class="type">T</span>&gt;,</span> <span style="white-space:nowrap">args:<a class="type" title="A special abstract type that represents "rest" function argument." href="../../../haxe/extern/Rest.html">Rest</a>&lt;<a class="type" title="Dynamic is a special type which is compatible with all other types." href="../../../Dynamic.html">Dynamic</a>&gt;</span>):<a class="type" title="The standard Boolean type, which can either be true or false." href="../../../Bool.html">Bool</a></code></p></h3><div class="doc"><p>Execute each of the listeners in order with the supplied arguments.
Returns true if event had listeners, false otherwise.</p></div></div><div class="field "><a name="eventNames"></a><h3><p><code><a href="#eventNames"><span class="identifier">eventNames</span></a> ():<a class="type" title="An Array is a storage for values." href="../../../Array.html">Array</a>&lt;<a class="type" title="The basic String class." href="../../../String.html">String</a>&gt;</code></p></h3><div class="doc"><p>Returns an array listing the events for which the emitter has registered listeners.</p></div></div><div class="field "><a name="getMaxListeners"></a><h3><p><code><a href="#getMaxListeners"><span class="identifier">getMaxListeners</span></a> ():<a class="type" title="The standard Int type." href="../../../Int.html">Int</a></code></p></h3><div class="doc"><p>Returns the current max listener value for the <code><a href="../../../js/node/events/EventEmitter.html">EventEmitter</a></code> which is either set by <code>setMaxListeners</code>
or defaults to <code>defaultMaxListeners</code>.</p></div></div><div class="field "><a name="listeners"></a><h3><p><code><a href="#listeners"><span class="identifier">listeners</span></a>&lt;<span class="type">T</span>&gt; (<span style="white-space:nowrap">event:<a class="type" title="Abstract type for events." href="../../../js/node/events/Event.html">Event</a>&lt;<span class="type">T</span>&gt;</span>):<a class="type" title="An Array is a storage for values." href="../../../Array.html">Array</a>&lt;<span class="type">T</span>&gt;</code></p></h3><div class="doc"><p>Returns an array of listeners for the specified event.</p></div></div><div class="field "><a name="on"></a><h3><p><code><a href="#on"><span class="identifier">on</span></a>&lt;<span class="type">T</span>&gt; (<span style="white-space:nowrap">event:<a class="type" title="Abstract type for events." href="../../../js/node/events/Event.html">Event</a>&lt;<span class="type">T</span>&gt;,</span> <span style="white-space:nowrap">listener:<span class="type">T</span></span>):<span class="type">TSelf</span></code></p></h3><div class="doc"><p>Adds a <code>listener</code> to the end of the listeners array for the specified <code>event</code>.</p></div></div><div class="field "><a name="once"></a><h3><p><code><a href="#once"><span class="identifier">once</span></a>&lt;<span class="type">T</span>&gt; (<span style="white-space:nowrap">event:<a class="type" title="Abstract type for events." href="../../../js/node/events/Event.html">Event</a>&lt;<span class="type">T</span>&gt;,</span> <span style="white-space:nowrap">listener:<span class="type">T</span></span>):<span class="type">TSelf</span></code></p></h3><div class="doc"><p>Adds a one time <code>listener</code> for the <code>event</code>.</p>
<p>This listener is invoked only the next time the event is fired, after which it is removed.</p></div></div><div class="field "><a name="prependListener"></a><h3><p><code><a href="#prependListener"><span class="identifier">prependListener</span></a>&lt;<span class="type">T</span>&gt; (<span style="white-space:nowrap">event:<a class="type" title="Abstract type for events." href="../../../js/node/events/Event.html">Event</a>&lt;<span class="type">T</span>&gt;,</span> <span style="white-space:nowrap">listener:<span class="type">T</span></span>):<span class="type">TSelf</span></code></p></h3><div class="doc"><p>Adds the <code>listener</code> function to the beginning of the listeners array for the <code>event</code>.</p></div></div><div class="field "><a name="prependOnceListener"></a><h3><p><code><a href="#prependOnceListener"><span class="identifier">prependOnceListener</span></a>&lt;<span class="type">T</span>&gt; (<span style="white-space:nowrap">event:<a class="type" title="Abstract type for events." href="../../../js/node/events/Event.html">Event</a>&lt;<span class="type">T</span>&gt;,</span> <span style="white-space:nowrap">listener:<span class="type">T</span></span>):<span class="type">TSelf</span></code></p></h3><div class="doc"><p>Adds a one time <code>listener</code> function for the <code>event</code> to the beginning of the listeners array.</p>
<p>This listener is invoked only the next time event is triggered, after which it is removed.</p></div></div><div class="field "><a name="removeAllListeners"></a><h3><p><code><a href="#removeAllListeners"><span class="identifier">removeAllListeners</span></a>&lt;<span class="type">T</span>&gt; (<span style="white-space:nowrap">?event:<a class="type" title="Abstract type for events." href="../../../js/node/events/Event.html">Event</a>&lt;<span class="type">T</span>&gt;</span>):<span class="type">TSelf</span></code></p></h3><div class="doc"><p>Removes all listeners, or those of the specified <code>event</code>.</p></div></div><div class="field "><a name="removeListener"></a><h3><p><code><a href="#removeListener"><span class="identifier">removeListener</span></a>&lt;<span class="type">T</span>&gt; (<span style="white-space:nowrap">event:<a class="type" title="Abstract type for events." href="../../../js/node/events/Event.html">Event</a>&lt;<span class="type">T</span>&gt;,</span> <span style="white-space:nowrap">listener:<span class="type">T</span></span>):<span class="type">TSelf</span></code></p></h3><div class="doc"><p>Remove a <code>listener</code> from the listener array for the specified <code>event</code>.</p>
<p>Caution: changes array indices in the listener array behind the listener.</p></div></div><div class="field "><a name="setMaxListeners"></a><h3><p><code><a href="#setMaxListeners"><span class="identifier">setMaxListeners</span></a> (<span style="white-space:nowrap">n:<a class="type" title="The standard Int type." href="../../../Int.html">Int</a></span>):<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>By default <code><a href="../../../js/node/events/EventEmitter.html">EventEmitter</a></code>s will print a warning if more than 10 listeners are added for a particular event.
This is a useful default which helps finding memory leaks.</p>
<p>Obviously not all Emitters should be limited to 10. This function allows that to be increased.
Set to zero for unlimited.</p></div></div></div></div></div></div></div></div></div><footer class="section dark site-footer"><div class="container"><div class="copyright"><p>&copy;2016&nbsp;<a href="http://haxe.org/foundation/" title="Haxe Foundation Website" class="hf-link">Haxe Foundation</a> |&nbsp;<a href="https://github.com/HaxeFoundation/haxe" title="Haxe on Github">Contribute to Haxe</a></p></div></div></footer><script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script></body></html>