<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../../bootstrap/css/bootstrap.min.css" rel="stylesheet"/><link href="../../../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/><link href="../../../bootstrap/css/bootstrap-select.min.css" rel="stylesheet"/><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" rel="stylesheet" type="text/css"/><link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600,600italic,400" rel="stylesheet" type="text/css"/><link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css" rel="stylesheet" type="text/css"/><script src="../../../jquery-1.9.1.min.js"></script><script src="../../../bootstrap/js/bootstrap.min.js"></script><script src="../../../bootstrap/js/bootstrap-select.min.js"></script><link href="../../../styles.css" rel="stylesheet"/><link href="../../../haxe-nav.css" rel="stylesheet"/><script type="text/javascript">var dox = {rootPath: "../../../",platforms: ["js"]};</script><script type="text/javascript" src="../../..//nav.js"></script><script type="text/javascript" src="../../..//index.js"></script><link rel="icon" href="../../..//favicon.ico" type="image/x-icon"></link><title>js.node.http.Agent</title><meta name="description" content="In node 0.5.3+ there is a new implementation of the HTTP Agent
which is used for pooling sockets used in HTTP client requests."/></head><body><nav class="section nav dark"><div class="navbar navbar-fixed-top navbar-inverse"><div class="navbar-inner"><button class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse" type="button"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="brand haxe-logo" href="http://haxe.org/"><img alt="Haxe" height="21" onerror="this.src='http://haxe.org/img/haxe-logo-horizontal-on-dark.png'" src="http://haxe.org/img/haxe-logo-horizontal-on-dark.svg" width="107"/></a><a class="brand sub lib" href="/">API</a><div class="nav-collapse collapse"><ul class="nav"><!-- required submenu  on every subsite, put class="active" on   -->
<li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="/documentation/">Learn Haxe <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://haxe.org/documentation/">Introduction</a></li><li class="divider"></li><li><a href="http://haxe.org/manual/">Manual</a></li><li class="active"><a href="http://api.haxe.org">API Documentation</a></li><li class="divider"></li><li><a href="http://try.haxe.org">Try Haxe</a></li><li><a href="http://lib.haxe.org">Haxelib</a></li><li><a href="http://code.haxe.org">Code Cookbook</a></li></ul></li><li class=" dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Connect <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://github.com/HaxeFoundation"><i class="fa fa-github"></i> Github</a></li><li><a href="https://github.com/HaxeFoundation/haxe/issues"><i class="fa fa-github"></i> Bug reports</a></li><li><a href="http://stackoverflow.com/questions/tagged/haxe"><i class="fa fa-stack-exchange"></i> Stack Overflow</a></li><li><a href="http://groups.google.com/group/haxelang?hl=en"><i class="fa fa-envelope-o"></i> Google Groups</a></li><li><a href="http://webchat.freenode.net/?channels=haxe"><i class="fa fa-comments-o"></i> IRC</a></li><li><a href="http://haxe.org/blog"><i class="fa fa-rss"></i> Blog</a></li><li class="divider"></li><li><a href="https://plus.google.com/communities/103302587329918132234"><i class="fa fa-google-plus"></i> Google+</a></li><li><a href="https://www.facebook.com/haxe.org/"><i class="fa fa-facebook"></i> Facebook</a></li><li><a href="https://twitter.com/search?q=%23haxe"><i class="fa fa-twitter"></i> #haxe</a></li><li><a href="https://twitter.com/haxelang"><i class="fa fa-twitter"></i> @haxelang</a></li><li><a href="https://twitter.com/haxe_org"><i class="fa fa-twitter"></i> @haxe_org</a></li><li class="divider"></li><li><a href="http://haxe.org/foundation/contact.html">Contact</a></li></ul></li></ul></div></div></div></nav><div class="container main-content"><div class="row-fluid"><div class="span3"><div class="well sidebar-nav"><form class="form-search" id="searchForm"><div class="input-prepend input-block-level"><span class="add-on"><i class="icon-search"></i></span><input id="search" type="text" placeholder="Search" autocomplete="off"/></div></form></div><div class="well sidebar-nav"><div id="nav"></div></div></div><div class="span9"><div class="page-header"><span class="viewsource"><a href="https://github.com/HaxeFoundation/hxnodejs/blob/master/src/js/node/http/Agent.hx" class="btn btn-medium"><i class="fa fa-eye"></i> View source</a></span><h1><small>class</small> Agent</h1><h4><small>package <a href="../../../js/node/http/index.html">js.node.http</a></small></h4>    <h4><small><span class="muted">extended by </span><a class="type" title="An Agent object for HTTPS similar to http." href="../../../js/node/https/Agent.html">Agent</a></small></h4></div><div class="body"><div class="doc doc-main"><div class="indent"><p>In node 0.5.3+ there is a new implementation of the HTTP Agent
which is used for pooling sockets used in HTTP client requests.</p>
<p>Previously, a single agent instance helped pool for a single host+port.
The current implementation now holds sockets for any number of hosts.</p>
<p>The current HTTP Agent also defaults client requests to using Connection:keep-alive.
If no pending HTTP requests are waiting on a socket to become free the socket is closed.
This means that node's pool has the benefit of keep-alive when under load but still
does not require developers to manually close the HTTP clients using keep-alive.</p>
<p>Sockets are removed from the agent's pool when the socket emits either a "close" event
or a special "agentRemove" event.</p></div></div><h3 class="section">Constructor</h3><div class="fields"><div class="field "><a name="new"></a><h3><p><code><a href="#new"><span class="identifier">new</span></a> (<span style="white-space:nowrap">?options:<a class="type" title="Options for Agent constructor." href="../../../js/node/http/AgentOptions.html">AgentOptions</a></span>)</code></p></h3><div class="doc"><p></p></div></div></div><h3 class="section">Variables</h3><div class="fields"><div class="field "><a name="maxFreeSockets"></a><h3><p><code><a href="../../../js/node/http/Agent.html#maxFreeSockets"><span class="identifier">maxFreeSockets</span></a>:<a class="type" title="The standard Float type, this is a double-precision IEEE 64bit float." href="../../../Float.html">Float</a></code></p></h3><div class="doc"><p>For Agents supporting HTTP KeepAlive, this sets the maximum number of sockets
that will be left open in the free state.
Default: 256</p></div></div><div class="field "><a name="maxSockets"></a><h3><p><code><a href="../../../js/node/http/Agent.html#maxSockets"><span class="identifier">maxSockets</span></a>:<a class="type" title="The standard Float type, this is a double-precision IEEE 64bit float." href="../../../Float.html">Float</a></code></p></h3><div class="doc"><p>Determines how many concurrent sockets the agent can have open per origin.
Default: Infinity</p></div></div><div class="field "><a name="requests"></a><h3><p><code><span class="label">read only</span><a href="../../../js/node/http/Agent.html#requests"><span class="identifier">requests</span></a>:<a class="type" title="DynamicAccess is an abstract type for working with anonymous structures that are intended to hold collections of objects by the string key." href="../../../haxe/DynamicAccess.html">DynamicAccess</a>&lt;<a class="type" title="An Array is a storage for values." href="../../../Array.html">Array</a>&lt;<a class="type" title="This object is created internally and returned from Http." href="../../../js/node/http/ClientRequest.html">ClientRequest</a>&gt;&gt;</code></p></h3><div class="doc"><p>An object which contains queues of requests that have not yet been assigned to sockets.
Do not modify.</p></div></div><div class="field "><a name="sockets"></a><h3><p><code><span class="label">read only</span><a href="../../../js/node/http/Agent.html#sockets"><span class="identifier">sockets</span></a>:<a class="type" title="DynamicAccess is an abstract type for working with anonymous structures that are intended to hold collections of objects by the string key." href="../../../haxe/DynamicAccess.html">DynamicAccess</a>&lt;<a class="type" title="An Array is a storage for values." href="../../../Array.html">Array</a>&lt;<a class="type" title="" href="../../../js/node/net/Socket.html">Socket</a>&gt;&gt;</code></p></h3><div class="doc"><p>An object which contains arrays of sockets currently in use by the Agent.
Do not modify.</p></div></div></div><h3 class="section">Methods</h3><div class="fields"><div class="field "><a name="destroy"></a><h3><p><code><a href="#destroy"><span class="identifier">destroy</span></a> ():<a class="type" title="The standard Void type." href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Destroy any sockets that are currently in use by the agent.</p>
<p>It is usually not necessary to do this. However, if you are using an agent with KeepAlive enabled,
then it is best to explicitly shut down the agent when you know that it will no longer be used.
Otherwise, sockets may hang open for quite a long time before the server terminates them.</p></div></div><div class="field "><a name="getName"></a><h3><p><code><a href="#getName"><span class="identifier">getName</span></a> (<span style="white-space:nowrap">options:<a class="type" title="Type of the options object passed to Http." href="../../../js/node/HttpRequestOptions.html">HttpRequestOptions</a></span>):<a class="type" title="The basic String class." href="../../../String.html">String</a></code></p></h3><div class="doc"><p>Get a unique name for a set of request options, to determine whether a connection can be reused.
In the http agent, this returns host:port:localAddress. In the https agent, the name includes the CA,
cert, ciphers, and other HTTPS/TLS-specific options that determine socket reusability.</p></div></div></div></div></div></div></div><footer class="section dark site-footer"><div class="container"><div class="copyright"><p>&copy;2016&nbsp;<a href="http://haxe.org/foundation/" title="Haxe Foundation Website" class="hf-link">Haxe Foundation</a> |&nbsp;<a href="https://github.com/HaxeFoundation/haxe" title="Haxe on Github">Contribute to Haxe</a></p></div></div></footer><script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script></body></html>